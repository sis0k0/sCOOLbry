.container
  .well
    h1.text-center Users list
    .row
      .col-md-8.col-md-offset-2
        input(placeholder="Search...", ng-model="search")

    #users-list.table-responsive(ng-init="pages();")
      table.table.table-hover.table-bordered(ng-class="{ 'table-wrapped': windowWidth>768 }", resize)
        thead
          tr.text-bold
            td(ng-click="setOrder();setField('_id');reloadUsers();") ID
            td(ng-click="setOrder();setField('username');reloadUsers();") Username
            td(ng-click="setOrder();setField('firstName');reloadUsers();") First name
            td(ng-click="setOrder();setField('lastName');reloadUsers();") Last name
            td(ng-click="setOrder();setField('created');reloadUsers();") Created
            td(ng-click="setOrder();setField('email');reloadUsers();") Email
            td(ng-click="setOrder();setField('roles');reloadUsers();") Roles
            td Actions
        tr(ng-repeat="user in users")
          td.text-bold {{ user._id }}
          td {{ user.username }}
          td {{ user.firstName }}
          td {{ user.lastName }}
          td {{ user.created }}
          td {{ user.email }}
          td {{ user.roles }}
          td
            a.btn-sm(href='/admin/user/{{ user._id }}', title='Browse', tooltip)
              span.glyphicon.glyphicon-search.text-success
            a.btn-sm(href='/admin/user/edit/{{ user._id }}', title='Edit', tooltip)
              span.glyphicon.glyphicon-edit.text-primary
            a.btn-sm(href='/admin/user/delete/{{ user._id }}', title='Delete', tooltip, onclick='return window.confirm("Deleting an user" || "Are you sure that you want to delete this user?")')
              span.glyphicon.glyphicon-remove.text-danger
    .pagination
        li(ng-repeat="i in range(pagesCount) track by $index")
          a(class="pageItem" href="#" ng-click="setPage($index+1, $event); reloadUsers();" id="page-{{ $index+1 }}") {{ $index+1 }}

