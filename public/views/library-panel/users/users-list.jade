include ../panel

.container
  .well
    h1.text-center Users list
    .row
      .col-md-8.col-md-offset-2
        input(placeholder="Search...", ng-model="search")

    #users-list.table-responsive(ng-init="pages();")
      table.table.table-hover.table-bordered(ng-class="{ 'table-wrapped': windowWidth>768 }", resize)
        thead
          tr.text-bold.text-primary
            td#_id(ng-click="sort($event); reloadUsers()") ID
              span#_id.glyphicon.glyphicon-sort.text-right
            td#username(ng-click="sort($event); reloadUsers()") Username
              span#username.glyphicon.glyphicon-sort.text-right
            td#given(ng-click="sort($event); reloadUsers()") Books Given
              span#given.glyphicon.glyphicon-sort.text-right
            td#toReturn(ng-click="sort($event); reloadUsers()") Books To Return
              span#toReturn.glyphicon.glyphicon-sort.text-right
            td Actions
        tr(ng-repeat="user in users")
          td.text-bold {{ user.userID }}
          td {{ user.username }}
          td {{ user.given }}
          td {{ user.toReturn }}
          td
            a.btn-sm(href='/library-panel/userInfo/{{ user.userID }}', tooltip='Browse')
              span.glyphicon.glyphicon-search.text-success
            a.btn-sm(href='/library-panel/user/interact/{{ user.userID }}', tooltip='Give/Return A Book')
              span.glyphicon.glyphicon-book.text-success
            a.btn-sm(href='/library-panel/user/delete/{{ user.userID }}', tooltip='Delete', onclick='return window.confirm("Deleting an user" || "Are you sure that you want to delete this user?")')
              span.glyphicon.glyphicon-remove.text-danger
    .pagination
        li(ng-repeat="i in range(pagesCount) track by $index")
          a(class="pageItem" href="#" ng-click="setPage($index+1, $event); reloadUsers();" id="page-{{ $index+1 }}") {{ $index+1 }}

