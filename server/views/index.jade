extends includes/layout
block main-content

  .container-fluid.ng-cloak
    header(role="navigation").nav.navbar-default.navbar-fixed-top
      .navbar-header
        button.navbar-toggle(type='button', data-toggle='collapse', data-target='#site-navigation')
          span.icon-bar
          span.icon-bar
          span.icon-bar
        a.navbar-brand(href="/")

      #site-navigation.navbar-collapse.collapse

        form.navbar-form.navbar-left#search-header(role='search', ng-controller="SearchCtrl").vcenter
          .form-group.input-group
            input.form-control(type='text', ng-model="phrase" placeholder='Search for books by title, author, genre, ISBN or citation')
            .input-group-btn
              button(type="submit", ng-click="search(phrase)").btn.btn-default
                i.glyphicon.glyphicon-search


        ul#top-menu.nav.navbar-nav.navbar-right.vcenter(ng-controller="LogInCtrl")
          li
            a(href='/libraries') Libraries
          li(ng-show='!identity.isAuthenticated()')
            a(href="/login") Log in
          li(ng-show='!identity.isAuthenticated()')
            a(href="/signup").sign-up Sign Up
          li.dropdown(ng-show='!!identity.isAuthenticated()')
            a.dropdown-toggle(href="", data-toggle="dropdown")
              span(ng-bind-template='{{ identity.currentUser.firstName }} {{ identity.currentUser.lastName }}')
              b.caret
            ul.dropdown-menu
              li(ng-show="identity.currentUser.isAdmin()")
                a(href="/admin") Admin Panel
              li(ng-show="identity.currentUser.hasLibraryPanel()")
                a(href="/library-panel") Library Panel
              li(ng-show="identity.isAuthenticated()")
                a(href="/profile") Profile
              li.divider
              li
                a(href="/" ng-click="logout()") Sign Out




  section
    div(ng-view)

  footer
    p.text-center
      | &copy; sCOOLbry 2014
